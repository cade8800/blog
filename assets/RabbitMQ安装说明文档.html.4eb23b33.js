import{_ as e,o as s,c as a,d as n}from"./app.af5ffdc4.js";const i="/assets/1565526174751.6ea3fbee.png",l="/assets/1565526264426.edb5b26b.png",r="/assets/1565528746057.9e0e7926.png",t="/assets/1565098043833.b31b3be4.png",c="/assets/1565098315375.57a6d8e9.png",p="/assets/1565098496482.ef5091c4.png",o="/assets/1565098585317.6dcd7232.png",d="/assets/1565098719054.155d575b.png",b={},m=n(`<h1 id="rabbitmq\u5B89\u88C5\u8BF4\u660E\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#rabbitmq\u5B89\u88C5\u8BF4\u660E\u6587\u6863" aria-hidden="true">#</a> RabbitMQ\u5B89\u88C5\u8BF4\u660E\u6587\u6863</h1><h2 id="_1-\u5B89\u88C5\u4F9D\u8D56\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_1-\u5B89\u88C5\u4F9D\u8D56\u73AF\u5883" aria-hidden="true">#</a> 1. \u5B89\u88C5\u4F9D\u8D56\u73AF\u5883</h2><p>\u5728\u7EBF\u5B89\u88C5\u4F9D\u8D56\u73AF\u5883\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> build-essential openssl openssl-devel unixODBC unixODBC-devel <span class="token function">make</span> gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u5B89\u88C5erlang" tabindex="-1"><a class="header-anchor" href="#_2-\u5B89\u88C5erlang" aria-hidden="true">#</a> 2. \u5B89\u88C5Erlang</h2><p>\u4E0A\u4F20</p><p>erlang-18.3-1.el7.centos.x86_64.rpm socat-1.7.3.2-5.el7.lux.x86_64.rpm rabbitmq-server-3.6.5-1.noarch.rpm</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># \u5B89\u88C5</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> erlang-18.3-1.el7.centos.x86_64.rpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u51FA\u73B0\u5982\u4E0B\u9519\u8BEF</p><p><img src="`+i+`" alt="1565526174751"></p><p>\u8BF4\u660Egblic \u7248\u672C\u592A\u4F4E\u3002\u6211\u4EEC\u53EF\u4EE5\u67E5\u770B\u5F53\u524D\u673A\u5668\u7684gblic \u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>strings /lib64/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+l+`" alt="1565526264426"></p><p>\u5F53\u524D\u6700\u9AD8\u7248\u672C2.12\uFF0C\u9700\u89812.15.\u6240\u4EE5\u9700\u8981\u5347\u7EA7glibc</p><ul><li><p>\u4F7F\u7528yum\u66F4\u65B0\u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc <span class="token function">make</span> <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u4E0B\u8F7Drpm\u5305</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-static-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
<span class="token function">wget</span> http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/nscd-2.17-55.el6.x86_64.rpm <span class="token operator">&amp;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>\u5B89\u88C5rpm\u5305</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> *-2.17-55.el6.x86_64.rpm <span class="token parameter variable">--force</span> <span class="token parameter variable">--nodeps</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u5B89\u88C5\u5B8C\u6BD5\u540E\u518D\u67E5\u770Bglibc\u7248\u672C,\u53D1\u73B0glibc\u7248\u672C\u5DF2\u7ECF\u52302.17\u4E86</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>strings /lib64/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p><img src="`+r+`" alt="1565528746057"></p><h2 id="_3-\u5B89\u88C5rabbitmq" tabindex="-1"><a class="header-anchor" href="#_3-\u5B89\u88C5rabbitmq" aria-hidden="true">#</a> 3. \u5B89\u88C5RabbitMQ</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5B89\u88C5</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> socat-1.7.3.2-5.el7.lux.x86_64.rpm

<span class="token comment"># \u5B89\u88C5</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rabbitmq-server-3.6.5-1.noarch.rpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u5F00\u542F\u7BA1\u7406\u754C\u9762\u53CA\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-\u5F00\u542F\u7BA1\u7406\u754C\u9762\u53CA\u914D\u7F6E" aria-hidden="true">#</a> 4. \u5F00\u542F\u7BA1\u7406\u754C\u9762\u53CA\u914D\u7F6E</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5F00\u542F\u7BA1\u7406\u754C\u9762</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
<span class="token comment"># \u4FEE\u6539\u9ED8\u8BA4\u914D\u7F6E\u4FE1\u606F</span>
<span class="token function">vim</span> /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app 
<span class="token comment"># \u6BD4\u5982\u4FEE\u6539\u5BC6\u7801\u3001\u914D\u7F6E\u7B49\u7B49\uFF0C\u4F8B\u5982\uFF1Aloopback_users \u4E2D\u7684 &lt;&lt;&quot;guest&quot;&gt;&gt;,\u53EA\u4FDD\u7559guest</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_5-\u542F\u52A8" aria-hidden="true">#</a> 5. \u542F\u52A8</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token function">service</span> rabbitmq-server start <span class="token comment"># \u542F\u52A8\u670D\u52A1</span>
<span class="token function">service</span> rabbitmq-server stop <span class="token comment"># \u505C\u6B62\u670D\u52A1</span>
<span class="token function">service</span> rabbitmq-server restart <span class="token comment"># \u91CD\u542F\u670D\u52A1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8BBE\u7F6E\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/share/doc/rabbitmq-server-3.6.5/

<span class="token function">cp</span> rabbitmq.config.example /etc/rabbitmq/rabbitmq.config

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-\u914D\u7F6E\u865A\u62DF\u4E3B\u673A\u53CA\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#_6-\u914D\u7F6E\u865A\u62DF\u4E3B\u673A\u53CA\u7528\u6237" aria-hidden="true">#</a> 6. \u914D\u7F6E\u865A\u62DF\u4E3B\u673A\u53CA\u7528\u6237</h2><h3 id="_6-1-\u7528\u6237\u89D2\u8272" tabindex="-1"><a class="header-anchor" href="#_6-1-\u7528\u6237\u89D2\u8272" aria-hidden="true">#</a> 6.1. \u7528\u6237\u89D2\u8272</h3><p>RabbitMQ\u5728\u5B89\u88C5\u597D\u540E\uFF0C\u53EF\u4EE5\u8BBF\u95EE<code>http://ip\u5730\u5740:15672</code> \uFF1B\u5176\u81EA\u5E26\u4E86guest/guest\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF1B\u5982\u679C\u9700\u8981\u521B\u5EFA\u81EA\u5B9A\u4E49\u7528\u6237\uFF1B\u90A3\u4E48\u4E5F\u53EF\u4EE5\u767B\u5F55\u7BA1\u7406\u754C\u9762\u540E\uFF0C\u5982\u4E0B\u64CD\u4F5C\uFF1A</p><p><img src="`+t+'" alt="1565098043833"></p><p><img src="'+c+'" alt="1565098315375"></p><p><strong>\u89D2\u8272\u8BF4\u660E</strong>\uFF1A</p><p>1\u3001 \u8D85\u7EA7\u7BA1\u7406\u5458(administrator)</p><p>\u53EF\u767B\u9646\u7BA1\u7406\u63A7\u5236\u53F0\uFF0C\u53EF\u67E5\u770B\u6240\u6709\u7684\u4FE1\u606F\uFF0C\u5E76\u4E14\u53EF\u4EE5\u5BF9\u7528\u6237\uFF0C\u7B56\u7565(policy)\u8FDB\u884C\u64CD\u4F5C\u3002</p><p>2\u3001 \u76D1\u63A7\u8005(monitoring)</p><p>\u53EF\u767B\u9646\u7BA1\u7406\u63A7\u5236\u53F0\uFF0C\u540C\u65F6\u53EF\u4EE5\u67E5\u770Brabbitmq\u8282\u70B9\u7684\u76F8\u5173\u4FE1\u606F(\u8FDB\u7A0B\u6570\uFF0C\u5185\u5B58\u4F7F\u7528\u60C5\u51B5\uFF0C\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5\u7B49)</p><p>3\u3001 \u7B56\u7565\u5236\u5B9A\u8005(policymaker)</p><p>\u53EF\u767B\u9646\u7BA1\u7406\u63A7\u5236\u53F0, \u540C\u65F6\u53EF\u4EE5\u5BF9policy\u8FDB\u884C\u7BA1\u7406\u3002\u4F46\u65E0\u6CD5\u67E5\u770B\u8282\u70B9\u7684\u76F8\u5173\u4FE1\u606F(\u4E0A\u56FE\u7EA2\u6846\u6807\u8BC6\u7684\u90E8\u5206)\u3002</p><p>4\u3001 \u666E\u901A\u7BA1\u7406\u8005(management)</p><p>\u4EC5\u53EF\u767B\u9646\u7BA1\u7406\u63A7\u5236\u53F0\uFF0C\u65E0\u6CD5\u770B\u5230\u8282\u70B9\u4FE1\u606F\uFF0C\u4E5F\u65E0\u6CD5\u5BF9\u7B56\u7565\u8FDB\u884C\u7BA1\u7406\u3002</p><p>5\u3001 \u5176\u4ED6</p><p>\u65E0\u6CD5\u767B\u9646\u7BA1\u7406\u63A7\u5236\u53F0\uFF0C\u901A\u5E38\u5C31\u662F\u666E\u901A\u7684\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\u3002</p><h3 id="_6-2-virtual-hosts\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_6-2-virtual-hosts\u914D\u7F6E" aria-hidden="true">#</a> 6.2. Virtual Hosts\u914D\u7F6E</h3><p>\u50CFmysql\u62E5\u6709\u6570\u636E\u5E93\u7684\u6982\u5FF5\u5E76\u4E14\u53EF\u4EE5\u6307\u5B9A\u7528\u6237\u5BF9\u5E93\u548C\u8868\u7B49\u64CD\u4F5C\u7684\u6743\u9650\u3002RabbitMQ\u4E5F\u6709\u7C7B\u4F3C\u7684\u6743\u9650\u7BA1\u7406\uFF1B\u5728RabbitMQ\u4E2D\u53EF\u4EE5\u865A\u62DF\u6D88\u606F\u670D\u52A1\u5668Virtual Host\uFF0C\u6BCF\u4E2AVirtual Hosts\u76F8\u5F53\u4E8E\u4E00\u4E2A\u76F8\u5BF9\u72EC\u7ACB\u7684RabbitMQ\u670D\u52A1\u5668\uFF0C\u6BCF\u4E2AVirtualHost\u4E4B\u95F4\u662F\u76F8\u4E92\u9694\u79BB\u7684\u3002exchange\u3001queue\u3001message\u4E0D\u80FD\u4E92\u901A\u3002 \u76F8\u5F53\u4E8Emysql\u7684db\u3002Virtual Name\u4E00\u822C\u4EE5/\u5F00\u5934\u3002</p><h4 id="_6-2-1-\u521B\u5EFAvirtual-hosts" tabindex="-1"><a class="header-anchor" href="#_6-2-1-\u521B\u5EFAvirtual-hosts" aria-hidden="true">#</a> 6.2.1. \u521B\u5EFAVirtual Hosts</h4><p><img src="'+p+'" alt="1565098496482"></p><h4 id="_6-2-2-\u8BBE\u7F6Evirtual-hosts\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_6-2-2-\u8BBE\u7F6Evirtual-hosts\u6743\u9650" aria-hidden="true">#</a> 6.2.2. \u8BBE\u7F6EVirtual Hosts\u6743\u9650</h4><p><img src="'+o+'" alt="1565098585317"></p><p><img src="'+d+'" alt="1565098719054"></p>',49),u=[m];function v(h,g){return s(),a("div",null,u)}const f=e(b,[["render",v],["__file","RabbitMQ\u5B89\u88C5\u8BF4\u660E\u6587\u6863.html.vue"]]);export{f as default};
