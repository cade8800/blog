# 关于并发


不同的并发量要应对的东西不一样，比如1000并发，用tomcat，springmvc框架加缓存就可以应对，1万的并发在关键节点使用内存处理也很容易，百万并发就需要linux内核调优，socket缓冲区，文件句柄数，内存池，RPS/RFS SMP等优化也可以达到。千万并发就需要考虑用户态协议dpdk了


作者：耿小扭
链接：https://www.zhihu.com/question/266535644/answer/705067582
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



目前公司服务器理想状态下的请求并发量峰值约为4000，由于系统占用影响及其它因素影响，峰值以50%计算，即2000。假设小程序总用户量10万，则同时在线用户数平均约为10%即10000人，同时在线用户数转化为同一秒并发量约为5%~20%，即并发量约为500~2000。
据以上估算，公司服务器是可以勉强满足10万用户需求，估算结果仅供参考。
如果服务器性能达到峰值，站点不会崩溃，而是进行请求队列排队，在客户端即表现为网络缓慢。

Tomcat 线程池中最大活跃线程数，默认值200（Tomcat7和8都是）。能够接受的最大连接数10000。